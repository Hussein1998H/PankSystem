{"ast":null,"code":"var _jsxFileName = \"D:\\\\BankSystem\\\\bankReactProject\\\\src\\\\components\\\\AdminDashboard\\\\adminComponents\\\\UpdateBranch.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport Cookie from 'universal-cookie';\nimport Loading from '../../Loading/Loading';\nimport Swal from 'sweetalert2';\nimport { useNavigate } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UpdateBranch = () => {\n  _s();\n\n  const [address, setAddress] = useState('');\n  const [phone, setPhone] = useState('');\n  const cookie = new Cookie();\n  const token = cookie.get('bearer');\n  const nav = useNavigate();\n  const [loading, setLoading] = useState(false);\n\n  function addres(e) {\n    setAddress(e.currentTarget.value);\n  }\n\n  function phne(e) {\n    setPhone(e.currentTarget.value);\n  }\n\n  const idBranch = window.location.pathname.split('/').slice(-1)[0];\n  useEffect(() => {\n    axios.get(`http://127.0.0.1:8000/api/branches/${idBranch}`, {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(res => {\n      setAddress(res.data.data.address);\n      setPhone(res.data.data.phone);\n    }); //eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function updateBranch(e) {\n    e.preventDefault();\n\n    if (address.length > 0 && phone.length > 0) {\n      setLoading(true);\n\n      try {\n        await axios.put(`http://127.0.0.1:8000/api/branches/${idBranch}`, {\n          address: address,\n          phone: phone\n        }, {\n          headers: {\n            Authorization: 'Bearer ' + token\n          }\n        });\n        setLoading(false);\n        await Swal.fire({\n          position: 'center',\n          icon: 'success',\n          title: 'تم تعديل الفرع بنجاح',\n          showConfirmButton: false,\n          timer: 1500\n        });\n        nav('/adminDashboard/createbranch');\n      } catch (err) {\n        setLoading(false);\n        Swal.fire({\n          icon: 'error',\n          title: 'حدث خطأ ما',\n          text: 'تعذر تعديل الفرع'\n        });\n        console.log(err);\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"brnch-form\",\n      onSubmit: updateBranch,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          'textAlign': 'center'\n        },\n        className: \"branch\",\n        type: \"text\",\n        placeholder: \"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0641\\u0631\\u0639\",\n        value: address,\n        onChange: addres\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          'textAlign': 'center'\n        },\n        className: \"branch\",\n        type: \"text\",\n        placeholder: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\",\n        value: phone,\n        onChange: phne\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"branch-btn\",\n        children: \"\\u062A\\u0639\\u062F\\u064A\\u0644\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(UpdateBranch, \"xQjSBxCKL39VFRt0pPUu+vwvGxo=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UpdateBranch;\nexport default UpdateBranch;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateBranch\");","map":{"version":3,"names":["axios","useEffect","useState","Cookie","Loading","Swal","useNavigate","UpdateBranch","address","setAddress","phone","setPhone","cookie","token","get","nav","loading","setLoading","addres","e","currentTarget","value","phne","idBranch","window","location","pathname","split","slice","headers","Authorization","then","res","data","updateBranch","preventDefault","length","put","fire","position","icon","title","showConfirmButton","timer","err","text","console","log"],"sources":["D:/BankSystem/bankReactProject/src/components/AdminDashboard/adminComponents/UpdateBranch.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { useEffect, useState } from \"react\"\r\nimport Cookie from 'universal-cookie';\r\nimport Loading from '../../Loading/Loading'\r\nimport Swal from 'sweetalert2'\r\nimport { useNavigate } from 'react-router';\r\nconst UpdateBranch = () => {\r\n    const [address ,setAddress] = useState('')\r\n    const [phone , setPhone] = useState('')\r\n    const cookie = new Cookie()\r\n    const token = cookie.get('bearer')\r\n    const nav = useNavigate()\r\n    const [loading , setLoading] = useState(false)\r\n\r\n    function addres(e){\r\n        setAddress(e.currentTarget.value)\r\n    }\r\n    function phne(e){\r\n        setPhone(e.currentTarget.value)\r\n    }\r\n    const idBranch = window.location.pathname.split('/').slice(-1)[0];\r\n    useEffect(()=>{\r\n        axios.get(`http://127.0.0.1:8000/api/branches/${idBranch}`,{\r\n            headers:{\r\n                Authorization : 'Bearer ' + token\r\n            }\r\n        }).then((res)=>{\r\n            setAddress(res.data.data.address)\r\n            setPhone(res.data.data.phone)\r\n        })\r\n        //eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n    async function updateBranch(e){\r\n        e.preventDefault();\r\n        if(address.length>0 && phone.length>0){\r\n            setLoading(true)\r\n            try{\r\n                await axios.put(`http://127.0.0.1:8000/api/branches/${idBranch}`,{\r\n                    address : address,\r\n                    phone : phone\r\n                },{\r\n                    headers:{\r\n                        Authorization : 'Bearer ' + token\r\n                    }\r\n                })\r\n                setLoading(false)\r\n                await Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'success',\r\n                    title: 'تم تعديل الفرع بنجاح',\r\n                    showConfirmButton: false,\r\n                    timer: 1500\r\n                  })\r\n                  nav('/adminDashboard/createbranch')\r\n            }catch(err){\r\n                setLoading(false)\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'حدث خطأ ما',\r\n                  text: 'تعذر تعديل الفرع',\r\n                })\r\n                console.log(err)\r\n            }\r\n        }\r\n       \r\n    }\r\n  return (\r\n    <>\r\n    {loading && <Loading />}\r\n    <form className='brnch-form' onSubmit={updateBranch} >\r\n    <input style={{'textAlign':'center'}} className='branch' type='text' placeholder='عنوان الفرع' value={address} onChange={addres} />\r\n    <input style={{'textAlign':'center'}} className='branch' type='text' placeholder='رقم الهاتف' value={phone} onChange={phne} />\r\n    <button type='submit' className='branch-btn'>تعديل</button>\r\n    </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateBranch\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}