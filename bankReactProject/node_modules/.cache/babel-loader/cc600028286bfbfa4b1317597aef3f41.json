{"ast":null,"code":"var _jsxFileName = \"D:\\\\BankSystem\\\\bankReactProject\\\\src\\\\components\\\\AdminDashboard\\\\adminComponents\\\\CreateBranch.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Loading from '../../Loading/Loading';\nimport Cookie from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CreateBranch = () => {\n  _s();\n\n  const [branches, setBranches] = useState([]);\n  const [run, setRun] = useState(0);\n  const cookie = new Cookie();\n  const [loading, setLoading] = useState(false);\n  const token = cookie.get('bearer');\n  const [address, setAddress] = useState('');\n  const [branchPhone, setBranchPhone] = useState('');\n  useEffect(() => {\n    axios.get('http://127.0.0.1:8000/api/branches', {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(res => setBranches(res.data.data)); //eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [run]);\n  let branch = branches.map((item, index) => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: item.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: item.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: item.phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-trash\",\n          style: {\n            'color': '#11101D',\n            'padding': '0px 10px',\n            'cursor': 'pointer'\n          },\n          onClick: () => deletee(item.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `${item.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-pen\",\n            style: {\n              'color': '#f00',\n              'cursor': 'pointer'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 5\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 11\n    }, this);\n  });\n\n  function addres(e) {\n    setAddress(e.currentTarget.value);\n  }\n\n  function phne(e) {\n    setBranchPhone(e.currentTarget.value);\n  }\n\n  async function createBranche(e) {\n    e.preventDefault();\n\n    if (address !== '' && branchPhone !== '') {\n      setLoading(true);\n\n      try {\n        await axios.post('http://127.0.0.1:8000/api/branches', {\n          address: address,\n          phone: branchPhone\n        }, {\n          headers: {\n            Authorization: 'Bearer ' + token\n          }\n        });\n        setRun(prev => prev + 1);\n        setLoading(false);\n      } catch (err) {\n        console.log(err);\n        setLoading(false);\n      }\n    }\n  }\n\n  async function deletee(id) {\n    setLoading(true);\n\n    try {\n      await axios.delete(`http://127.0.0.1:8000/api/branches/${id}`, {\n        headers: {\n          Authorization: 'Bearer ' + token\n        }\n      });\n      setRun(prev => prev + 1);\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n      setLoading(false);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"branch-flex\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        dir: \"rtl\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0631\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0641\\u0631\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0645\\u0647\\u0645\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: branch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"brnch-form\",\n      onSubmit: createBranche,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"branch\",\n        type: \"text\",\n        placeholder: \"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0641\\u0631\\u0639\",\n        value: address,\n        onChange: addres\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"branch\",\n        type: \"text\",\n        placeholder: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\",\n        value: branchPhone,\n        onChange: phne\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onSubmit: createBranche,\n        className: \"branch-btn\",\n        children: \"\\u0625\\u0636\\u0627\\u0641\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CreateBranch, \"w9yIxvxlW4vKhwDzCXmelDsiU7w=\");\n\n_c = CreateBranch;\nexport default CreateBranch;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateBranch\");","map":{"version":3,"names":["axios","useEffect","useState","Link","Loading","Cookie","CreateBranch","branches","setBranches","run","setRun","cookie","loading","setLoading","token","get","address","setAddress","branchPhone","setBranchPhone","headers","Authorization","then","res","data","branch","map","item","index","id","phone","deletee","addres","e","currentTarget","value","phne","createBranche","preventDefault","post","prev","err","console","log","delete"],"sources":["D:/BankSystem/bankReactProject/src/components/AdminDashboard/adminComponents/CreateBranch.js"],"sourcesContent":["import axios from 'axios'\r\nimport { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Loading from '../../Loading/Loading'\r\nimport Cookie  from 'universal-cookie'\r\n\r\nconst CreateBranch = () => {\r\n  const [branches , setBranches] = useState([])\r\n  const [run , setRun] = useState(0)\r\n  const cookie = new Cookie()\r\n  const [loading , setLoading] = useState(false)\r\n  const token = cookie.get('bearer')\r\n  const [address , setAddress] = useState('')\r\n  const [branchPhone , setBranchPhone] = useState('')\r\n  useEffect(()=>{\r\n    axios.get('http://127.0.0.1:8000/api/branches',{\r\n        headers:{\r\n            Authorization: 'Bearer '+token\r\n        }\r\n    }).then(res => setBranches(res.data.data))\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n},[run])\r\n  let branch = branches.map((item,index)=>{\r\n    return<tr key={index}>\r\n    <td>{item.id}</td>\r\n    <td>{item.address}</td>\r\n    <td>{item.phone}</td>\r\n    <td>\r\n    <i className=\"fa-solid fa-trash\" style={{'color':'#11101D','padding':'0px 10px','cursor':'pointer'}} onClick={()=>deletee(item.id)}></i>\r\n    <Link to={`${item.id}`}>\r\n    <i className=\"fa-solid fa-pen\" style={{'color':'#f00','cursor':'pointer'}}></i>\r\n    </Link>\r\n    </td>\r\n    </tr>\r\n   })\r\n   function addres(e) {\r\n     setAddress(e.currentTarget.value)\r\n   }\r\n   function phne(e) {\r\n     setBranchPhone(e.currentTarget.value)\r\n   }\r\n   async function createBranche(e) {\r\n    e.preventDefault();\r\n    if(address!=='' && branchPhone!==''){\r\n      setLoading(true)\r\n      try{\r\n        await axios.post('http://127.0.0.1:8000/api/branches',{\r\n          address:address,\r\n          phone:branchPhone\r\n        },{\r\n          headers:{\r\n            Authorization : 'Bearer ' + token\r\n          }\r\n        })\r\n        setRun(prev => prev + 1)\r\n        setLoading(false)\r\n      }catch(err){\r\n        console.log(err)\r\n        setLoading(false)\r\n      }\r\n    }\r\n   }\r\n   async function deletee(id) {\r\n    setLoading(true)\r\n     try{\r\n       await axios.delete(`http://127.0.0.1:8000/api/branches/${id}`,{\r\n         headers:{\r\n           Authorization : 'Bearer ' + token\r\n         }\r\n       })\r\n       setRun((prev)=> prev+1)\r\n       setLoading(false)\r\n     }catch(err){\r\n       console.log(err)\r\n       setLoading(false)\r\n     }\r\n   }\r\n  return (\r\n       <>\r\n        {loading && <Loading />}\r\n        <div className='branch-flex'>\r\n        <table dir='rtl'>\r\n            <thead >\r\n                <tr>\r\n                    <th>رقم الفرع</th>\r\n                    <th>عنوان الفرع</th>\r\n                    <th>رقم الهاتف</th>\r\n                    <th>المهمة</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {branch}          \r\n            </tbody>\r\n        </table>\r\n        </div>\r\n        <form className='brnch-form' onSubmit={createBranche}>\r\n        <input className='branch' type='text' placeholder='عنوان الفرع' value={address} onChange={addres} />\r\n        <input className='branch' type='text' placeholder='رقم الهاتف' value={branchPhone} onChange={phne} />\r\n        <button type='submit' onSubmit={createBranche} className='branch-btn'>إضافة</button>\r\n        </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CreateBranch\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}